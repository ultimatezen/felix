<html>
<head>
<META Http-equiv="Content-Type" Content="text/html; charset=utf-8">
<title>
	Replace Page
</title>
	<link href="../style.css" rel="stylesheet" type="text/css" />
	<link href="../jquery-ui-1.7.2.custom.css" type="text/css" rel="stylesheet" />
	<script type="text/javascript" language="javascript" src="../js/jquery.js"></script>
	<script type="text/javascript" language="javascript" src="../js/utils.js"></script>
	<script type="text/javascript" language="javascript" src="../js/jquery-ui-1.7.2.custom.min.js"></script>

<script type="text/javascript">
// Set focus to "from" field in replace form
$(function() { $("#replacefrom").focus(); });

// Toggle the help text on/off
// Toggle help on and off
function toggleHelp() {
	var item = "#help_details" ;
	var link = "#showhelp" ;
	$(item).toggle("blind");

	var currentText = $(link).text() ;
	if (currentText == 'Replace Help >>') {
		$(link).html('&lt;&lt; Hide <b>H</b>elp') ;
	}
	else {
		$(link).html('Replace <b>H</b>elp &gt;&gt;') ;
	}
    return false;
}

// Toggle record details visibility
function toggleDetails(id) {
	var item = "#item_" + id ;
	var link = "#view_" + id ;
	$(item).toggle("blind");

	var currentText = $(link).text() ;
	if (currentText == 'Details >>'){
		$(link).html('&lt;&lt; Hide');
	}
	else {
		$(link).html('Details &gt;&gt;') ;
	}
    return false;
}

/* submit (does find) */
$(function() {
    $("#searchform").submit(function() {
        document.forms[0].action = "replace_find" ;
        return true;
	});
});
</script>
</head>
<body>

	<!-- FILTERS -->
	<div id="filterbox" style="float:right">
	</div>

	<!-- SEARCH FORM -->
	<div style="float:left;">
    <form action="/replace_find" method="post" id="searchform">
        <table class="form">
            <tr>
                <td><label for="replacefrom">From:</label></td>
                <td><input class="search" name="replacefrom" id="replacefrom" type="text" value="" style="width:300px" /></td>
            </tr>
            <tr>
                <td><label for="replaceto">To:</label></td>
                <td><input class="search" name="replaceto" id="replaceto" type="text" value="" style="width:300px" /></td>
            </tr>

            <tr>
                <td>&nbsp;</td>
                <td>
                    <p id="replacelinks">
                     <a href="replace_find" id="replace-find" class="ui-state-default ui-corner-all">&nbsp;Find&nbsp;</a>
                     &nbsp;&nbsp;<a href="replace_all" id="replace-all" class="ui-state-default ui-corner-all">&nbsp;Replace All&nbsp;</a>
                    </p>
                </td>
            </tr>
        </table>
	<input type="submit" value="submit" style="display:none;" />
    </form>

	<a href="/newsearch" title="Clear search filters"><b>N</b>ew Search</a> |
	<a href="/gotosearch" title="Replace in results"><b>S</b>earch</a> |
	<!-- HELP -->
	<a href="#" id="showhelp" onclick="toggleHelp();">Replace <b>H</b>elp &gt;&gt;</a>
	<div id="help_details" style="display:none;">
	<p>Enter a term to search for that term anywhere in a source or translation. Use the tags below in the format <em>tag:term</em> to make fine-grained searches.</p>

	<table style="border:none;">
	<tr>
	    <td>source:</td>
	    <td>Replace in the source field</td>
	</tr>
	<tr>
	    <td>trans:</td>
	    <td>Replace in the translation field</td>
	</tr>
	<tr>
	    <td>context:</td>
	    <td>Replace in the context field</td>
	</tr>
	<tr>
	    <td>created-by:</td>
	    <td>Replace the creator field</td>
	</tr>
	<tr>
	    <td>created:</td>
	    <td>Replace the date created</td>
	</tr>
	<tr>
	    <td>modified-by:</td>
	    <td>Replace the modified-by field</td>
	</tr>
	<tr>
	    <td>modified:</td>
	    <td>Replace the date modified</td>
	</tr>
	<tr>
	    <td>reliability:</td>
	    <td>Replace the reliability</td>
	</tr>
	<tr>
	    <td>validated:</td>
	    <td>Mark the record as validated ("true") or not validated ("false")</td>
	</tr>
	<tr>
	    <td>refcount:</td>
	    <td>Change the reference count of the record</td>
	</tr>


	</table>

	<h3>Examples</h3>

	<p>Replace 'aaa' in source and translation segments with 'bbb'</p>
	<table border="0">
	    <tr><td>From</td><td>aaa</td></tr>
	    <tr><td>To</td><td>bbb</td></tr>
	</table>

	<p>Replace 'xxx' in source segments with 'yyy'</p>
	<table border="0">
	    <tr><td>From</td><td>source:xxx</td></tr>
	    <tr><td>To</td><td>yyy</td></tr>
	</table>

	<p>Follow a tag by an asterisk (*) to replace the entire field. For example, to change the "created-by" field of all matching records to "Ryan":</p>
	<table border="0">
	    <tr><td>From</td><td>created-by:*</td></tr>
	    <tr><td>To</td><td>Ryan</td></tr>
	</table>

	<p>Change the record's date created to 2009-10-01</p>
	<table border="0">
	    <tr><td>From</td><td>created:</td></tr>
	    <tr><td>To</td><td>2009-10-01</td></tr>
	</table>

	<p>Make the reliability of the record 5</p>
	<table border="0">
	    <tr><td>From</td><td>reliability:</td></tr>
	    <tr><td>To</td><td>5</td></tr>
	</table>

	<p>Validate the record</p>
	<table border="0">
	    <tr><td>From</td><td>validated:</td></tr>
	    <tr><td>To</td><td>true</td></tr>
	</table>
	</div>
	</div>

	<!-- SEARCH RESULTS -->

	<div id="searchresults">
	</div>

</body>
</html>
